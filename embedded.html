<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8"></meta>
		<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
		<title>Notes to Developer - Micro Credit in DRC</title>

	</head>

	
		<link rel="stylesheet" href="/pokitin-microcreditDRC/static/gen/bootstrap.css?1406643448" type="text/css" />
	

	<style type="text/css">
	body { background-color: #F0EBEB;}
	</style>

	<body class="use-base">

		<div class="container">

			<h1>Notes to Developer - Micro Credit in DRC</h1>

			<h2>How to install</h2>

			<pre>&lt;iframe id="map-iframe" src="http://jplusplus.github.io/pokitin-microcreditDRC/" width="100%" height="600" frameborder="0"&gt;&lt;/iframe&gt;</pre>

			<iframe src="http://jplusplus.github.io/pokitin-microcreditDRC/" width="100%" height="600" frameborder="0"></iframe>

			<h2>How to Configure</h2>

			<h3>Default settings</h3>

			static/gen/settings.js

			<pre>microcreditDRC.settings =

  show_navigation  : true
  background_color : &#34;white&#34;
  text_color       : &#34;black&#34;

  storyboard       : &#34;static/storyboard.json&#34;

  map:
    transition_duration         : 750
    africa_bounds               : [[-20.2,-37.3],[54.3,39.0]]
    default_fill_color          : &#34;#BEBEBE&#34;
    highlighted_fill_color      : &#34;#EC7014&#34;
    choropleth_bucket_number    : 4
    choropleth_color_scale      : [&#34;rgb(255,255,212)&#34;,&#34;rgb(254,227,145)&#34;,&#34;rgb(254,196,79)&#34;,&#34;rgb(254,153,41)&#34;,&#34;rgb(236,112,20)&#34;,&#34;rgb(204,76,2)&#34;,&#34;rgb(140,45,4)&#34;] # http://colorbrewer2.org/?type=sequential&amp;scheme=Blues&amp;n=7
    choropleth_type_scale       : &#34;log&#34;
    legend_max_width            : 310
    bubble_default_color        : &#34;#F7F8FF&#34;
    bubble_default_border_color : &#34;#555751&#34;
    bubble_highlighted_color    : &#34;#FF5C5C&#34;
    bubble_default_size         : 1
    bubble_size_range           : [2, 5]
    tooltip_style :
      style: # see http://qtip2.com/options#style
        classes: &#34;qtip-light qtip-tipsy qtip-rounded&#34;
        tip:
          corner: false
      position:
        target: &#39;mouse&#39;
        adjust:
          x: -80
          y: -50
    data :
      microfinance_africa   : &#34;static/data/microfinance_africa.csv&#34;
      microfinance_geocoded : &#34;static/data/microfinance_geocoded.csv&#34;
      microfinance_kivus    : &#34;static/data/microfinance_kivus.csv&#34;
      geojson               : &#34;static/map/africa.topo.json&#34;

</pre>

			<h3>Customize</h3>

			You can overwrite settings in the url hash like in the next iframe or directly in the file <strong>static/gen/settings.js</strong>.<br/><a href="#outsided-navigation">See bellow the result</a>.
			You can also specify a story index to show at the initialization.

			<pre>&lt;iframe id="map-iframe" src="http://jplusplus.github.io/pokitin-microcreditDRC/#<strong>story</strong>=0&<strong>settings</strong>={
	&quot;show_navigation&quot; : false,
	&quot;background_color&quot;: &quot;rgb(75, 56, 50)&quot;,
	&quot;text_color&quot;      : &quot;white&quot;,
	&quot;map&quot;             : {
		&quot;choropleth_color_scale&quot; : [&quot;rgb(255,255,212)&quot;,&quot;rgb(254,227,145)&quot;,&quot;rgb(254,196,79)&quot;,&quot;rgb(254,153,41)&quot;,&quot;rgb(236,112,20)&quot;,&quot;rgb(204,76,2)&quot;,&quot;rgb(140,45,4)&quot;]
	}
}" width="100%" height="300" frameborder="0"&gt;&lt;/iframe&gt;</pre>

			<h3>Where are the stories and the data</h3>
			<ul>
				<li><strong>Data</strong> are in <strong>static/data/</strong></li>
				<li><strong>Storyboard</strong> is in <strong>static/storyboard.json</strong></li>
				<li>And <strong>Stories</strong> are in <strong>static/stories/</strong><br/>
					Story name should be <strong>[index of the story in storyboard.json].md</strong>. Formmated as a markdown file. <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet" target="_blank">See Markdown documentation</a></li>
			</ul>

			<h2>Control the map with the API</h2>

	<pre>&lt;script type="text/javascript"&gt;

	// show the previous story
	<span class="important">microcreditDRC.Navigation.Instance.previous();</span>
	// show the next story
	<span class="important">microcreditDRC.Navigation.Instance.next();</span>
	// return true if there is a next story after the current story
	<span class="important">microcreditDRC.Navigation.Instance.hasNext();</span>
	// return true if there is a previous story before the current story
	<span class="important">microcreditDRC.Navigation.Instance.hasPrevious();</span>
	// show the specified story
	<span class="important">microcreditDRC.Navigation.Instance.showStory(story_index);</span>

&lt;/script&gt;</pre>

			<h2 id="outsided-navigation">Exemple with outisided navigation</h2>

			This is an iframe
			<iframe id="map-iframe" src="http://jplusplus.github.io/pokitin-microcreditDRC/#settings={&quot;show_navigation&quot;:false, &quot;background_color&quot;:&quot;rgb(75, 56, 50)&quot;, &quot;text_color&quot;:&quot;white&quot;, &quot;map&quot; :{ &quot;choropleth_color_scale&quot; : [&quot;rgb(255,255,212)&quot;,&quot;rgb(254,227,145)&quot;,&quot;rgb(254,196,79)&quot;,&quot;rgb(254,153,41)&quot;,&quot;rgb(236,112,20)&quot;,&quot;rgb(204,76,2)&quot;,&quot;rgb(140,45,4)&quot;]}}&story=0" width="100%" height="300" frameborder="0"></iframe>

			And you can control the map with these outsided buttons<br/>
			<button id="previous" onclick="previous()">Previous</button>
			<button id="next"     onclick="next()">Next</button>
			<button               onclick="go(0)">1</button>
			<button               onclick="go(1)">2</button>
			<button               onclick="go(2)">3</button>
			<button               onclick="go(3)">4</button>
			<button               onclick="go(4)">5</button>
			<button               onclick="go(5)">6</button>
			<button               onclick="go(6)">7</button>
			<br/>
			<br/>
	<pre>&lt;script type="text/javascript"&gt;

	var iframe = document.getElementById("map-iframe");

	var previous = function() {
		<span class="important">iframe.contentWindow.microcreditDRC.Navigation.Instance.previous();</span>
	};

	var next = function() {
		<span class="important">iframe.contentWindow.microcreditDRC.Navigation.Instance.next();</span>
	};

	var go = function(idx) {
		<span class="important">iframe.contentWindow.microcreditDRC.Navigation.Instance.showStory(idx);</span>
	};

&lt;/script&gt;</pre>
		</div>

		<script type="text/javascript">
			var iframe = document.getElementById("map-iframe");

			var previous = function() {
				iframe.contentWindow.microcreditDRC.Navigation.Instance.previous();
			};

			var next = function() {
				iframe.contentWindow.microcreditDRC.Navigation.Instance.next();
			};

			var go = function(idx) {
				iframe.contentWindow.microcreditDRC.Navigation.Instance.showStory(idx);
		};

		</script>
	</body>
</html>